#! /usr/bin/perl -w
################################################################################
#
# if.t (Test the PML if function)
#
################################################################################
#
# Includes
#
################################################################################
use strict;
use Test;
################################################################################
#
# Setup
#
################################################################################
BEGIN {
	plan test => 9
} use PML;
################################################################################
#
# Start
#
################################################################################
my ($parser, @code, $output);

$parser = new PML;
@code = <DATA>;
$parser->parse(\@code); ok(1);
$output = $parser->execute;

if ($output =~ /0/) {
	ok(0);
} else {
	ok(1);
}

foreach (1..7) {
	if ($output =~ /$_/) {
		ok(1);
	} else {
		ok(0);
	}
}
################################################################################
#                              END-OF-SCRIPT                                   #
################################################################################
__END__
#
# This is PML for Testing
#
#
# 0 is bad and numbers are good

## 1
@if (0) {
	0
} @elsif (1) {
	1
}

## 2
@if (1)
{
	2
}
@elsif (1)
{
	0
}
@else
{
	0
}

## 3
@if


(


1


)



{


3


}

## 4

@if(0){0}@elsif(0){0}@else{4}

## 5

@if


(


0


)


{

0}

@elsif

(

1){5}@else{0}

## 6

@unless(1){0}@else{6}

## 7

@unless(0){7}@else{0}
